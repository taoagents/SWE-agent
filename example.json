{
  "problem_statement": "Relax typing strictness for Plot.theme\nPlot.theme currently accepts a `dict[str, Any]`, which unfortunately throws a pytype typing error when passed another similar mapping, like an immutable dict.\r\n\r\n```python\r\ndef accepts_dict(d: dict[str, Any]) -> None:\r\n    print(d)\r\n\r\naccepts_dict(immutabledict.immutabledict({'a': 1}))\r\n# Error: Function accepts_dict was called with the wrong arguments [wrong-arg-types]\r\n#        Expected: (d: Dict[str, Any], ...)\r\n#        Actually passed: (d: immutabledict.immutabledict[nothing, nothing])\r\n```\r\n\r\nUsing collections.abc.Mapping doesn't throw an error.\r\n\r\n```python\r\nfrom collections.abc import Mapping\r\n\r\ndef accepts_mapping(d: Mappingf[str, Any]) -> None:\r\n    print(d)\r\n\r\naccepts_mapping(immutabledict.immutabledict({'a': 1}))\r\n```\r\n\r\nWould you mind relaxing the type specificity for this? Thanks!\n",
  "patch": "diff --git a/seaborn/_core/plot.py b/seaborn/_core/plot.py\nindex 14348e357f..c9dc61c8a7 100644\n--- a/seaborn/_core/plot.py\n+++ b/seaborn/_core/plot.py\n@@ -9,7 +9,7 @@\n import textwrap\n from contextlib import contextmanager\n from collections import abc\n-from collections.abc import Callable, Generator\n+from collections.abc import Callable, Generator, Mapping\n from typing import Any, List, Literal, Optional, cast\n from xml.etree import ElementTree\n \n@@ -859,7 +859,7 @@ def layout(\n \n     # TODO def legend (ugh)\n \n-    def theme(self, config: dict[str, Any], /) -> Plot:\n+    def theme(self, config: Mapping[str, Any], /) -> Plot:\n         \"\"\"\n         Control the appearance of elements in the plot.\n \n",
  "s3_repo_url": "s3://codeatcommits/mwaskom-seaborn-ae7acf0ce6e30ae773f513e0ccadbb7341cf5e90.zip",
  "event_id": "cgpZEreSS",
  "environment_setup": {
    "python": "3.10",
    "install": "uv pip install -e . || (python -m pip install --upgrade pip && python -m pip install -e .)",
    "pip_packages": [
      "starlette"
    ]
  }
}